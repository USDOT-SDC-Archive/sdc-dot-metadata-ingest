language: python
python:
    - 3.6
install:
    - pip install boto3
    - pip install utils
    - pip install moto
    - pip install coverage
    - pip install mock
    - pip install pytest
branches:
    only:
        - master
        - develop
addons:
    sonarcloud:
        organization: "usdot-jpo-sdc"
script: 
     - coverage erase
     - coverage run -m pytest tests/test_bucket_event_lambda.py
     - coverage xml -i
     - sonar-scanner -X -D sonar.login=$SONAR_TOKEN
